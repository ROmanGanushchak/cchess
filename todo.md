fix cant take the figure that gives a check

castling
checkmate check
capturing on the passage